(function(b){b.extend({progressBar:new (function(){this.defaults={increment:2,speed:15,showText:true,width:120,boxImage:"/soc/content/images/progressbar.gif",barImage:"/soc/content/images/progressbg_green.gif",height:12};this.construct=function(l,o){var g=null,h=null;if(l!=null)if(isNaN(l))h=l;else{g=l;if(o!=null)h=o}return this.each(function(){var a=this;if(g!=null&&this.bar!=null&&this.config!=null){this.config.tpercentage=g;if(h!=null)a.config=b.extend(this.config,h)}else{var m=b(this),d=b.extend({},
b.progressBar.defaults,h),p=g;if(g==null)p=m.html().replace("%","");m.html("");var e=document.createElement("img"),i=document.createElement("span");e.id=this.id+"_percentImage";i.id=this.id+"_percentText";e.src=d.boxImage;e.width=d.width;var c=b(e);i=b(i);this.bar=c;this.ntext=i;this.config=d;this.config.cpercentage=0;this.config.tpercentage=p;c.css("width",d.width+"px");c.css("height",d.height+"px");c.css("background-image","url("+d.barImage+")");c.css("padding","0");c.css("margin","0");m.append(c);
m.append(i);e.alt=this.tpercentage;e.title=this.tpercentage}var r=setInterval(function(){var f=a.config,j=parseInt(f.cpercentage),k=parseInt(f.tpercentage),n=parseInt(f.increment),q=a.ntext;a.bar.css("background-position",f.width*-1+j*(f.width/100)+"px 50%");f.showText&&q.html(" "+Math.round(j)+"%");if(j>k)if(j-n<k)a.config.cpercentage=0+k;else a.config.cpercentage-=n;else if(a.config.cpercentage<a.config.tpercentage)if(j+n>k)a.config.cpercentage=k;else a.config.cpercentage+=n;else clearInterval(r)},
a.config.speed)})}})});b.fn.extend({progressBar:b.progressBar.construct})})(jQuery);
