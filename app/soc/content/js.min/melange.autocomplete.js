(function(){if(window.melange===undefined)throw new Error("Melange not loaded");var c=window.melange;c.autocomplete=window.melange.autocomplete=function(){return new c.autocomplete};var e=c.logging.debugDecorator(c.autocomplete);c.error.createErrors([]);e.makeAutoComplete=function(b){jQuery.ajax({url:"?fmt=json&field="+b,success:function(f){jQuery("#"+b).after(['<input id="',b,'-value" type="hidden" />'].join(""));jQuery("#"+b).autocomplete({source:f.data,focus:function(d,a){jQuery("#"+b).val(a.item.label);
return false},select:function(d,a){jQuery("#"+b).val(a.item.label);jQuery("#"+b+"-value").val(a.item.key);return false}}).data("autocomplete")._renderItem=function(d,a){return jQuery("<li></li>").data("item.autocomplete",a).append("<a>"+a.link_id+" ("+a.label+")</a>").appendTo(d)}}})}})();
