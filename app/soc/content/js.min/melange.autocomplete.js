(function(){if(window.melange===undefined)throw new Error("Melange not loaded");var d=window.melange;d.autocomplete=window.melange.autocomplete=function(){return new d.autocomplete};var f=d.logging.debugDecorator(d.autocomplete);d.error.createErrors([]);f.makeAutoComplete=function(b){var g="?fmt=json&field="+b,c=b+"-pretty";jQuery("#"+b).attr("id",c).attr("name",c);jQuery.ajax({url:g,success:function(h){jQuery("#"+c).after(['<input id="',b,'" name="',b,'" type="hidden" />'].join(""));jQuery("#"+c).autocomplete({source:h.data,
focus:function(e,a){jQuery("#"+c).val(a.item.label);return false},select:function(e,a){jQuery("#"+c).val(a.item.label);jQuery("#"+b).val(a.item.key);return false}}).data("autocomplete")._renderItem=function(e,a){return jQuery("<li></li>").data("item.autocomplete",a).append("<a>"+a.link_id+" ("+a.label+")</a>").appendTo(e)}}})}})();
